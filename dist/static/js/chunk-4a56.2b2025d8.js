(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-4a56"],{DIUQ:function(e,t,a){"use strict";a.r(t);var o=[{prop:"thumb",name:"缩略图",type:"image",editable:!1,sortable:!1},{prop:"goodName",name:"商品名称",type:"input",editable:!0,sortable:!0,isRowMenuWrapCell:!1},{prop:"goodsNo",name:"货号",type:"input",editable:!0,sortable:!0},{prop:"price",name:"价格",type:"input",editable:!0,sortable:!0},{prop:"onSale",name:"上架",type:"switch",editable:!0,sortable:!1},{prop:"sort",name:"排序",type:"input",editable:!0,sortable:!0}],n=a("HGfo"),r=a("LvDl"),i=a.n(r),l=a("oU4k"),s=a("jNkO"),u=a("t3Un"),d={name:"GoodsRepoList",components:{goodsTableCustomTd:n.a,CateCasecader:s.a},data:function(){return{pageNav:{total:0,pageNo:1,pageSize:10},mainForm:{goodsKeyWord:"",selectedBrand:""},tableSheme:o,currentId:"",tableData:[],goodsRepoMapApi:{query:l.j},preList:{batchOpList:[{value:"0",label:"移至回收站",iconType:"fas",icon:"archive"},{value:"1",label:"上架",iconType:"fas",icon:"arrow-alt-circle-up"},{value:"2",label:"下架",iconType:"fas",icon:"arrow-alt-circle-down"}],brandList:[{value:"0",label:"尤妮佳"},{value:"1",label:"香奈儿"},{value:"2",label:"SKII"},{value:"3",label:"华为"},{value:"4",label:"海尔"}]}}},mounted:function(){this.getProdsListByPageNo()},methods:{getProdsListByPageNo:function(){var e=this;this.goodsRepoMapApi.query({page:this.pageNav.pageNo,pageSize:this.pageNav.pageSize}).then(function(t){var a=[];200===t.status&&(t.data.data.forEach(function(o){e.pageNav.total=t.data.total,a.push({id:o.id,thumb:u.a+"goods/"+o.id+"/"+o.imageUrl,goodName:o.title,type:o.type.split(";"),sellerName:"后台无此列数据",reviewStatus:1,goodsNo:o.id,price:o.price,onSale:1===o.alive,prime:!0,new:!0,hot:!0,inventory:o.inventory,sort:0})}),e.tableData=a)})},handleSizeChange:function(e){this.pageNav.pageSize=e,this.getProdsListByPageNo()},handleCurrentChange:function(e){this.pageNav.pageNo=e,this.getProdsListByPageNo()},handleCommand:function(e){console.log(e)},handleCellMouseEnter:function(e,t,a,o){var n=this;i.a.forEach(this.tableSheme,function(t,a){"isRowMenuWrapCell"in t&&(t.isRowMenuWrapCell=!0,n.currentId=e.id)})},handleCellMouseLeave:function(e,t,a,o){i.a.forEach(this.tableSheme,function(e,t){"isRowMenuWrapCell"in e&&(e.isRowMenuWrapCell=!1)})}}},c=(a("YvC4"),a("KHd+")),p=Object(c.a)(d,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-container",{staticClass:"contentwrapper"},[a("el-main",[a("div",[a("h3",{staticClass:"heading"},[e._v("商品库商品(SPU)\n        "),a("span",{staticStyle:{float:"right","margin-top":"-3px"}},[a("router-link",{attrs:{to:"/goodsRepo/list"}},[a("el-button",{attrs:{type:"default",size:"mini"}},[a("font-awesome-icon",{attrs:{icon:["fas","file-download"]}}),e._v("\n              导出结果\n            ")],1)],1),e._v(" "),a("router-link",{attrs:{to:"/goodsRepo/list"}},[a("el-button",{attrs:{type:"default",size:"mini"}},[a("font-awesome-icon",{attrs:{icon:["fas","file-upload"]}}),e._v("\n              批量导入\n            ")],1)],1),e._v(" "),a("router-link",{attrs:{to:"/goodsRepo/list"}},[a("el-button",{attrs:{type:"default",size:"mini"}},[a("font-awesome-icon",{attrs:{icon:["fas","plus"]}}),e._v("\n              添加商品\n            ")],1)],1)],1)])]),e._v(" "),a("el-form",{ref:"mainSearchForm",attrs:{inline:!0,model:e.mainForm,"label-width":"0"}},[a("el-row",{staticClass:"main-form-row",attrs:{gutter:0}},[a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-dropdown",{on:{command:e.handleCommand}},[a("el-button",{attrs:{type:"default",size:"mini"}},[a("font-awesome-icon",{attrs:{icon:["fas","cog"],"fixed-width":""}}),e._v("批量操作"),a("i",{staticClass:"el-icon-arrow-down el-icon--right"})],1),e._v(" "),a("el-dropdown-menu",{attrs:{slot:"dropdown",size:"mini"},slot:"dropdown"},e._l(e.preList.batchOpList,function(t){return a("el-dropdown-item",{key:t.value,attrs:{command:t}},[a("font-awesome-icon",{attrs:{icon:[t.iconType,t.icon],"fixed-width":""}}),e._v("\n                  "+e._s(t.label)+"\n                ")],1)}))],1)],1),e._v(" "),a("el-form-item",[a("cate-casecader",{attrs:{size:"mini",clearable:!0}})],1),e._v(" "),a("el-form-item",[a("el-select",{attrs:{placeholder:"请选择",size:"mini",clearable:""},model:{value:e.mainForm.selectedBrand,callback:function(t){e.$set(e.mainForm,"selectedBrand",t)},expression:"mainForm.selectedBrand"}},e._l(e.preList.brandList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("筛选")])],1)],1),e._v(" "),a("el-col",{attrs:{span:12}},[a("el-form-item",[a("el-form-item",[a("el-input",{attrs:{placeholder:"请输入商品关键字",size:"mini",clearable:""},model:{value:e.mainForm.goodsKeyWord,callback:function(t){e.$set(e.mainForm,"goodsKeyWord",t)},expression:"mainForm.goodsKeyWord"}})],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"}},[e._v("搜索")])],1)],1)],1)],1),e._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,"header-row-class-name":"py-table-header",stripe:""},on:{"cell-mouse-enter":e.handleCellMouseEnter,"cell-mouse-leave":e.handleCellMouseLeave}},[a("el-table-column",{attrs:{type:"selection"}}),e._v(" "),e._l(e.tableSheme,function(t){return a("el-table-column",{key:t.prop,attrs:{prop:t.prop,label:t.name,sortable:t.sortable},scopedSlots:e._u([{key:"default",fn:function(o){return[a("goods-table-custom-td",{attrs:{"table-user-name":"GoodsRepoList","current-id":e.currentId,prop:t.prop,name:t.name,"link-color":t.linkColor,type:t.type,data:o.row,"is-row-menu-wrap-cell":t.isRowMenuWrapCell||!1}})]}}])})})],2),e._v(" "),a("div",{staticClass:"pageNavWrap"},[a("el-pagination",{attrs:{"current-page":e.pageNav.pageNo,"page-sizes":[10,20,50,100],"page-size":e.pageNav.pageSize,total:e.pageNav.total,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)],1)},[],!1,null,null,null);p.options.__file="goods-repo-list.vue";t.default=p.exports},YvC4:function(e,t,a){"use strict";var o=a("nYkQ");a.n(o).a},nYkQ:function(e,t,a){},oU4k:function(e,t,a){"use strict";a.d(t,"j",function(){return n}),a.d(t,"l",function(){return r}),a.d(t,"k",function(){return i}),a.d(t,"b",function(){return l}),a.d(t,"h",function(){return s}),a.d(t,"m",function(){return u}),a.d(t,"o",function(){return d}),a.d(t,"i",function(){return c}),a.d(t,"d",function(){return p}),a.d(t,"n",function(){return m}),a.d(t,"f",function(){return f}),a.d(t,"a",function(){return b}),a.d(t,"g",function(){return v}),a.d(t,"c",function(){return g}),a.d(t,"e",function(){return h});var o=a("t3Un");function n(e){return Object(o.c)({url:"/v1/api/goods/list",method:"post",data:e})}function r(e){return Object(o.c)({url:"/v1/api/goods/topClass",method:"post",data:e})}function i(e){return Object(o.c)({url:"/v1/api/goods/secondClass",method:"post",data:e})}function l(e){return Object(o.c)({url:"/v1/api/goods/create",method:"post",data:e})}function s(e){return Object(o.c)({url:"/v1/api/goods/recycle/list",method:"post",data:e})}function u(e){return Object(o.c)({url:"/v1/api/goods/del",method:"post",data:{ids:e}})}function d(e){return Object(o.c)({url:"/v1/api/user/images/upload",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function c(e){return Object(o.c)({url:"/v1/api/user/images/myImages",method:"post",data:e})}function p(e){return Object(o.c)({url:"/v1/api/goods/recycle/clear",method:"post",data:{ids:e}})}function m(e){return Object(o.c)({url:"/v1/api/goods/recycle/recover",method:"post",data:{ids:e}})}function f(e){return Object(o.c)({url:"/v1/api/goods/edit",method:"post",data:e})}function b(e){return Object(o.c)({url:"/v1/api/brand/add",method:"post",data:e})}function v(e){return Object(o.c)({url:"/v1/api/brand/list",method:"post",data:e})}function g(e){return Object(o.c)({url:"/v1/api/brand/delete",method:"post",data:{ids:e}})}function h(e){return Object(o.c)({url:"/v1/api/brand/edit",method:"post",data:e})}}}]);