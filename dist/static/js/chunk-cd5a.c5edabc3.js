(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cd5a"],{"1YlP":function(e,t,a){"use strict";var o=a("hpA0");a.n(o).a},"3V2L":function(e,t,a){"use strict";var o=a("k/oa");a.n(o).a},"6jJE":function(e,t,a){},AkxC:function(e,t,a){"use strict";var o=a("Ndzd");a.n(o).a},E2xy:function(e,t,a){},Ndzd:function(e,t,a){},Psoh:function(e,t,a){"use strict";var o=a("E2xy");a.n(o).a},RFwu:function(e,t,a){},YMGU:function(e,t,a){"use strict";var o=a("e54B");a.n(o).a},dg2B:function(e,t,a){"use strict";var o=a("6jJE");a.n(o).a},e54B:function(e,t,a){},"h24+":function(e,t,a){},hpA0:function(e,t,a){},"k/oa":function(e,t,a){},oU4k:function(e,t,a){"use strict";a.d(t,"j",function(){return l}),a.d(t,"l",function(){return i}),a.d(t,"k",function(){return r}),a.d(t,"b",function(){return s}),a.d(t,"h",function(){return n}),a.d(t,"m",function(){return c}),a.d(t,"o",function(){return m}),a.d(t,"i",function(){return u}),a.d(t,"d",function(){return d}),a.d(t,"n",function(){return f}),a.d(t,"f",function(){return p}),a.d(t,"a",function(){return v}),a.d(t,"g",function(){return b}),a.d(t,"c",function(){return h}),a.d(t,"e",function(){return g});var o=a("t3Un");function l(e){return Object(o.c)({url:"/v1/api/goods/list",method:"post",data:e})}function i(e){return Object(o.c)({url:"/v1/api/goods/topClass",method:"post",data:e})}function r(e){return Object(o.c)({url:"/v1/api/goods/secondClass",method:"post",data:e})}function s(e){return Object(o.c)({url:"/v1/api/goods/create",method:"post",data:e})}function n(e){return Object(o.c)({url:"/v1/api/goods/recycle/list",method:"post",data:e})}function c(e){return Object(o.c)({url:"/v1/api/goods/del",method:"post",data:{ids:e}})}function m(e){return Object(o.c)({url:"/v1/api/user/images/upload",method:"post",data:e,headers:{"Content-Type":"multipart/form-data"}})}function u(e){return Object(o.c)({url:"/v1/api/user/images/myImages",method:"post",data:e})}function d(e){return Object(o.c)({url:"/v1/api/goods/recycle/clear",method:"post",data:{ids:e}})}function f(e){return Object(o.c)({url:"/v1/api/goods/recycle/recover",method:"post",data:{ids:e}})}function p(e){return Object(o.c)({url:"/v1/api/goods/edit",method:"post",data:e})}function v(e){return Object(o.c)({url:"/v1/api/brand/add",method:"post",data:e})}function b(e){return Object(o.c)({url:"/v1/api/brand/list",method:"post",data:e})}function h(e){return Object(o.c)({url:"/v1/api/brand/delete",method:"post",data:{ids:e}})}function g(e){return Object(o.c)({url:"/v1/api/brand/edit",method:"post",data:e})}},p28X:function(e,t,a){"use strict";var o=a("RFwu");a.n(o).a},v6z9:function(e,t,a){"use strict";var o=a("h24+");a.n(o).a},wRSh:function(e,t,a){"use strict";a.r(t);var o={name:"Articles"},l=(a("Psoh"),a("KHd+")),i=Object(l.a)(o,function(){var e=this.$createElement;return(this._self._c||e)("h3",[this._v("关联文章")])},[],!1,null,null,null);i.options.__file="articles.vue";var r=i.exports,s=a("oU4k"),n=a("jNkO"),c=a("LvDl"),m=a.n(c),u={name:"CommonInfo",components:{CateCasecader:n.a},props:{goodName:{type:String,default:""},goodsNo:{type:String,default:""},id:{type:String,default:""},type:{type:Array,default:function(){return[]}},inventory:{type:Number,default:0},price:{type:Number,default:0},sort:{type:Number,default:0},thumb:{type:String,default:""},sellerName:{type:String,default:""},onSale:{type:Boolean,default:!0},prime:{type:Boolean,default:!1},new:{type:Boolean,default:!1},hot:{type:Boolean,default:!1},reviewStatus:{type:Number,default:1}},data:function(){return{rules:{cateId:{validator:function(e,t,a){m.a.isArray(t)&&0===t.length?a(new Error("分类不能为空")):a()}}},commonInfoMapApi:{edit:s.f},activeNames:[["1"],["1"],["1"],["1"],["1"],["1"],["1"],["0"]],form:{imageUrl:"",imageId:"",prodName:"",prodNo:"",price:0,marketPrice:0,stock:0,cateId:[],stockWarnNum:1,weight:"",unit:"g",forSale:!0,onSale:!0,freeShip:!1,seoKeywords:"",seoDescrib:"",remarks:"",addSuggestList:[],selectedBrand:null,bounds:-1,growthValue:-1,buyUseBounds:0,memberPrice:0,discountPrice:[{id:"0",total:0,price:0}]},preSetData:{brandList:[{value:"0",label:"尤妮佳"},{value:"1",label:"香奈儿"},{value:"2",label:"SKII"},{value:"3",label:"华为"},{value:"4",label:"海尔"}]}}},mounted:function(){var e=this;this.$nextTick(function(){e.initForm(),e.$root.eventHub.$on("selectPicsCenterEvent",function(t){e.form.imageUrl=t.url,e.form.imageId=t.id,e.togglePicsCenter()})})},methods:{cateCasecaderValueChangehandle:function(e){this.form.cateId=e,this.$refs.commonInfoForm.validateField("cateId",function(){})},editProd:function(){var e=this;this.$refs.commonInfoForm.validate(function(t){t&&e.commonInfoMapApi.edit({id:e.id,title:e.form.prodName,type:e.form.cateId.join(";"),price:e.form.price,standardTitle:"",inventory:e.form.stock,detail:"",flowImages:[],detailImages:[],titleImage:e.form.imageId?[e.form.imageId]:void 0}).then(function(t){200===t.status&&e.$message({type:"success",message:"商品通用信息编辑成功！"})})})},togglePicsCenter:function(){this.$root.eventHub.$emit("togglePicsCenterEvent")},initForm:function(){this.form.prodName=this.goodName,this.form.cateId=this.type,this.form.price=this.price,this.form.stock=this.inventory,this.form.prodNo=this.goodsNo,this.form.onSale=this.onSale,this.form.imageUrl=this.thumb,this.prime?this.form.addSuggestList.push("0"):this.new?this.form.addSuggestList.push("1"):this.hot&&this.form.addSuggestList.push("2")}}},d=(a("v6z9"),Object(l.a)(u,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"commonInfoForm",staticClass:"commonForm",attrs:{model:e.form,"label-position":"left","label-width":"100px;"}},[a("el-container",[a("el-main",{staticStyle:{padding:"20px"}},[a("el-form-item",{attrs:{rules:[{required:!0,message:"商品名称不能为空！"}],label:"商品名称",prop:"prodName"}},[a("el-input",{staticStyle:{width:"24em"},attrs:{clearable:""},model:{value:e.form.prodName,callback:function(t){e.$set(e.form,"prodName",t)},expression:"form.prodName"}})],1),e._v(" "),a("el-form-item",{attrs:{rules:[{required:!0,message:"商品货号不能为空！"}],label:"商品货号",prop:"prodNo"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.prodNo,callback:function(t){e.$set(e.form,"prodNo",t)},expression:"form.prodNo"}}),e._v(" "),a("small",[e._v("\n          如果您不输入商品货号，系统将自动生成一个唯一的货号。\n        ")])],1),e._v(" "),a("el-form-item",{attrs:{rules:[{required:!0,message:"售价不能为空！"}],label:"本店售价",prop:"price"}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{attrs:{clearable:""},model:{value:e.form.price,callback:function(t){e.$set(e.form,"price",t)},expression:"form.price"}}),e._v(" "),a("el-button",{staticClass:"inline-block right-beside-btn",attrs:{type:"default"}},[e._v("按市场价计算")])],1)]),e._v(" "),a("el-form-item",{attrs:{label:"市场售价"}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{model:{value:e.form.marketPrice,callback:function(t){e.$set(e.form,"marketPrice",t)},expression:"form.marketPrice"}}),e._v(" "),a("el-button",{staticClass:"inline-block right-beside-btn",attrs:{type:"default"}},[e._v("取整数")])],1)]),e._v(" "),a("el-form-item",{attrs:{label:"库存数量"}},[a("el-input",{model:{value:e.form.stock,callback:function(t){e.$set(e.form,"stock",t)},expression:"form.stock"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"警告数量"}},[a("el-input",{model:{value:e.form.stockWarnNum,callback:function(t){e.$set(e.form,"stockWarnNum",t)},expression:"form.stockWarnNum"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"商品重量"}},[a("div",{staticStyle:{display:"flex"}},[a("el-input",{staticClass:"input-with-select",model:{value:e.form.weight,callback:function(t){e.$set(e.form,"weight",t)},expression:"form.weight"}}),e._v(" "),a("el-select",{staticClass:"right-beside-btn",attrs:{slot:"append",placeholder:"请选择单位"},slot:"append",model:{value:e.form.unit,callback:function(t){e.$set(e.form,"unit",t)},expression:"form.unit"}},[a("el-option",{attrs:{label:"克",value:"g"}}),e._v(" "),a("el-option",{attrs:{label:"千克",value:"kg"}})],1)],1)]),e._v(" "),a("el-form-item",{attrs:{label:"作为商品"}},[a("el-checkbox",{model:{value:e.form.forSale,callback:function(t){e.$set(e.form,"forSale",t)},expression:"form.forSale"}},[e._v("\n          打勾表示能作为普通商品销售，否则只能作为配件或赠品销售。\n        ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"是否包邮"}},[a("el-checkbox",{model:{value:e.form.freeShip,callback:function(t){e.$set(e.form,"freeShip",t)},expression:"form.freeShip"}},[e._v("\n          打勾表示此商品不会产生运费花销，否则按照正常运费计算。\n        ")])],1),e._v(" "),a("el-collapse",{staticClass:"custom-collapse",model:{value:e.activeNames[0],callback:function(t){e.$set(e.activeNames,0,t)},expression:"activeNames[0]"}},[a("el-collapse-item",{attrs:{title:"SEO优化",name:"1"}},[a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{model:{value:e.form.seoKeywords,callback:function(t){e.$set(e.form,"seoKeywords",t)},expression:"form.seoKeywords"}}),e._v(" "),a("small",[e._v("用英文逗号分隔")])],1),e._v(" "),a("el-form-item",{attrs:{label:"简单描述"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.seoDescrib,callback:function(t){e.$set(e.form,"seoDescrib",t)},expression:"form.seoDescrib"}})],1)],1)],1),e._v(" "),a("el-collapse",{staticClass:"custom-collapse",model:{value:e.activeNames[1],callback:function(t){e.$set(e.activeNames,1,t)},expression:"activeNames[1]"}},[a("el-collapse-item",{attrs:{title:"备注信息",name:"1"}},[a("el-form-item",{attrs:{label:"商家备注"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.form.remarks,callback:function(t){e.$set(e.form,"remarks",t)},expression:"form.remarks"}})],1)],1)],1)],1),e._v(" "),a("el-aside",{staticStyle:{width:"350px"}},[a("el-collapse",{staticClass:"custom-collapse",model:{value:e.activeNames[2],callback:function(t){e.$set(e.activeNames,2,t)},expression:"activeNames[2]"}},[a("el-collapse-item",{attrs:{title:"发布",name:"1"}},[a("el-form-item",{attrs:{label:"上架："}},[a("el-checkbox",{model:{value:e.form.onSale,callback:function(t){e.$set(e.form,"onSale",t)},expression:"form.onSale"}},[e._v("\n              打勾表示允许销售，否则不允许销售。\n            ")])],1),e._v(" "),a("el-form-item",{attrs:{label:"加入推荐："}},[a("el-checkbox-group",{model:{value:e.form.addSuggestList,callback:function(t){e.$set(e.form,"addSuggestList",t)},expression:"form.addSuggestList"}},[a("el-checkbox",{attrs:{label:"0"}},[e._v("精品")]),e._v(" "),a("el-checkbox",{attrs:{label:"1"}},[e._v("新品")]),e._v(" "),a("el-checkbox",{attrs:{label:"2"}},[e._v("热销")])],1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"},on:{click:e.editProd}},[e._v("更新")])],1)],1)],1),e._v(" "),a("el-collapse",{staticClass:"custom-collapse",model:{value:e.activeNames[3],callback:function(t){e.$set(e.activeNames,3,t)},expression:"activeNames[3]"}},[a("el-collapse-item",{attrs:{title:"商品分类",name:"1"}},[a("el-form-item",{staticClass:"custom-form-item-label-top",staticStyle:{"margin-bottom":"20px"},attrs:{rules:e.rules.cateId,label:"选择商品分类",prop:"cateId",required:""}},[a("cate-casecader",{attrs:{"cate-id":e.form.cateId,clearable:""},on:{"value-change":e.cateCasecaderValueChangehandle}})],1)],1)],1),e._v(" "),a("el-collapse",{staticClass:"custom-collapse",model:{value:e.activeNames[4],callback:function(t){e.$set(e.activeNames,4,t)},expression:"activeNames[4]"}},[a("el-collapse-item",{attrs:{title:"商品品牌",name:"1"}},[a("el-form-item",{staticClass:"custom-form-item-label-top",attrs:{label:"选择商品品牌"}},[a("el-select",{attrs:{placeholder:"请选择..."},model:{value:e.form.selectedBrand,callback:function(t){e.$set(e.form,"selectedBrand",t)},expression:"form.selectedBrand"}},e._l(e.preSetData.brandList,function(e){return a("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"text"}},[e._v("添加商品品牌")])],1)],1)],1),e._v(" "),a("el-collapse",{staticClass:"custom-collapse",model:{value:e.activeNames[5],callback:function(t){e.$set(e.activeNames,5,t)},expression:"activeNames[5]"}},[a("el-collapse-item",{attrs:{title:"商品图片",name:"1"}},[a("el-form-item",{staticClass:"custom-form-item-label-top",attrs:{rules:[{required:!0,message:"商品图片不能为空！"}],label:"上传商品图片",prop:"imageUrl"}},[a("div",{staticClass:"upload-pic-wrap",on:{click:e.togglePicsCenter}},[e.form.imageUrl?e._e():a("span",{staticClass:"add-icon"},[a("font-awesome-icon",{staticStyle:{"font-size":"45px","margin-top":"17px"},attrs:{icon:["fas","plus"]}})],1),e._v(" "),e.form.imageUrl?a("img",{attrs:{src:e.form.imageUrl}}):e._e()])]),e._v(" "),e.form.imageUrl?a("el-form-item",{staticClass:"custom-form-item-label-top",attrs:{label:"商品缩略图"}},[a("div",{staticClass:"upload-pic-wrap",staticStyle:{width:"80px",height:"80px"},on:{click:e.togglePicsCenter}},[e.form.imageUrl?a("img",{attrs:{src:e.form.imageUrl}}):e._e()])]):e._e(),e._v(" "),a("small",[e._v("点击更换商品图片或商品缩略图")])],1)],1),e._v(" "),a("el-collapse",{staticClass:"custom-collapse",model:{value:e.activeNames[6],callback:function(t){e.$set(e.activeNames,6,t)},expression:"activeNames[6]"}},[a("el-collapse-item",{attrs:{title:"积分相关",name:"1"}},[a("el-form-item",{attrs:{label:"赠送消费积分数："}},[a("el-input",{staticStyle:{width:"100px"},model:{value:e.form.bounds,callback:function(t){e.$set(e.form,"bounds",t)},expression:"form.bounds"}}),e._v(" "),a("div",[a("small",[e._v("购买该商品时赠送消费积分数,-1表示按商品价格赠送")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"赠送成长值："}},[a("el-input",{staticStyle:{width:"100px"},model:{value:e.form.growthValue,callback:function(t){e.$set(e.form,"growthValue",t)},expression:"form.growthValue"}}),e._v(" "),a("div",[a("small",[e._v("购买该商品时赠送成长值数,-1表示按商品价格赠送")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"积分购买金额："}},[a("el-input",{staticStyle:{width:"100px"},model:{value:e.form.buyUseBounds,callback:function(t){e.$set(e.form,"buyUseBounds",t)},expression:"form.buyUseBounds"}}),e._v(" "),a("div",[a("small",[e._v("(此处需填写金额)购买该商品时最多可以使用积分的金额")])])],1)],1)],1),e._v(" "),a("el-collapse",{staticClass:"custom-collapse",model:{value:e.activeNames[7],callback:function(t){e.$set(e.activeNames,7,t)},expression:"activeNames[7]"}},[a("el-collapse-item",{attrs:{title:"折扣、促销价格",name:"1"}},[a("el-form-item",{attrs:{label:"会员价格"}},[e._v("\n            注册用户 "),a("el-input",{staticStyle:{width:"100px"},model:{value:e.form.memberPrice,callback:function(t){e.$set(e.form,"memberPrice",t)},expression:"form.memberPrice"}}),e._v("(50)\n            "),a("div",{staticStyle:{"line-height":"1.2","margin-top":"10px"}},[a("small",[e._v("会员价格为-1时表示会员价格按会员等级折扣率计算。你也可以为每个等级指定一个固定价格")])])],1),e._v(" "),a("el-form-item",{attrs:{label:"优惠价格"}},[e._l(e.form.discountPrice,function(t){return a("div",{key:t.id,staticClass:"discount-set-item"},[a("label",[e._v("优惠数量")]),e._v(" "),a("el-input",{staticStyle:{width:"5em","margin-right":"10px"},model:{value:t.total,callback:function(a){e.$set(t,"total",a)},expression:"item.total"}}),e._v(" "),a("label",[e._v("优惠价格")]),e._v(" "),a("el-input",{staticStyle:{width:"5em"},model:{value:t.price,callback:function(a){e.$set(t,"price",a)},expression:"item.price"}})],1)}),e._v(" "),a("el-button",{attrs:{type:"text"}},[e._v("添加优惠价格")]),e._v(" "),a("div",[a("small",[e._v("购买数量达到优惠数量时享受的优惠价格")])])],2)],1)],1)],1)],1)],1)},[],!1,null,null,null));d.options.__file="commonInfo.vue";var f=d.exports,p={name:"GoodsManage"},v=(a("1YlP"),Object(l.a)(p,function(){var e=this.$createElement;return(this._self._c||e)("h3",[this._v("货品管理")])},[],!1,null,null,null));v.options.__file="goodsManage.vue";var b=v.exports,h={name:"ProdDescrib",data:function(){return{ue:"",content:"",config:{imageUrl:"//localhost:3000/server-test/upload",imagePath:"",imageFieldName:"file"}}},mounted:function(){var e=this;setTimeout(function(){e.content="初始化内容"},0)},methods:{ueditorReady:function(e){this.ue=e},ueditorChange:function(e){},getContent:function(){}}},g=(a("dg2B"),Object(l.a)(h,function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("v-ueditor",{attrs:{id:"ueditor",config:this.config,content:this.content,"use-custom-upload":!0},on:{ready:this.ueditorReady,change:this.ueditorChange}})],1)},[],!1,null,null,null));g.options.__file="prodDescrib.vue";var _=g.exports,k={name:"ProdPhotos",components:{}},y=(a("3V2L"),Object(l.a)(k,function(){this.$createElement;this._self._c;return this._m(0)},[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{},[t("h3",[this._v("商品相册")])])}],!1,null,null,null));y.options.__file="prodPhotos.vue";var x=y.exports,N={name:"ProdProperty"},$=(a("YMGU"),Object(l.a)(N,function(){var e=this.$createElement;return(this._self._c||e)("h3",[this._v("商品属性")])},[],!1,null,null,null));$.options.__file="prodProperty.vue";var S=$.exports,C={name:"AssociateProd"},w=(a("AkxC"),Object(l.a)(C,function(){var e=this.$createElement;return(this._self._c||e)("h3",[this._v("关联商品")])},[],!1,null,null,null));w.options.__file="associateProd.vue";var P=w.exports,j={name:"ProdEditIndex",components:{PicsManagement:a("9G9v").a},data:function(){return{currentTabVal:"1",prodData:null,visible:!1,prodEditTabs:[{title:"通用信息",name:"1",component:f},{title:"商品描述",name:"2",component:_},{title:"商品属性",name:"3",component:S},{title:"商品相册",name:"4",component:x},{title:"关联商品",name:"5",component:P},{title:"关联文章",name:"6",component:r},{title:"货品管理",name:"7",component:b}]}},mounted:function(){var e=this;this.$root.eventHub.$on("togglePicsCenterEvent",function(){e.visible=!e.visible}),this.prodData=this.$route.params,this.currentTabVal=this.$route.query.tabIndex+1+""}},I=(a("p28X"),Object(l.a)(j,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-main",{staticClass:"prod-edit-wrap"},[a("div",[a("h3",{staticClass:"heading"},[e._v("编辑商品\n      "),a("router-link",{attrs:{to:"/goodsManage/index"}},[a("el-button",{staticStyle:{float:"right","margin-top":"-3px"},attrs:{type:"default",size:"mini"}},[a("font-awesome-icon",{attrs:{icon:["fas","reply"]}}),e._v("\n          返回商品列表\n        ")],1)],1)],1)]),e._v(" "),a("el-tabs",{attrs:{type:"card"},model:{value:e.currentTabVal,callback:function(t){e.currentTabVal=t},expression:"currentTabVal"}},e._l(e.prodEditTabs,function(t){return a("el-tab-pane",{key:t.name,attrs:{label:t.title,name:t.name}},[a(t.component,e._b({tag:"component"},"component",e.prodData,!1))],1)})),e._v(" "),a("pics-management",{attrs:{"dialog-visible":e.visible}})],1)},[],!1,null,null,null));I.options.__file="index.vue";t.default=I.exports}}]);