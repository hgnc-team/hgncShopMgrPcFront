(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-commons"],{"4AVS":function(t,e,a){"use strict";var i=a("Sl2t");a.n(i).a},"9G9v":function(t,e,a){"use strict";var i=a("oU4k"),s=a("t3Un"),n={name:"PicsManagement",props:{dialogVisible:{type:Boolean,default:!1}},data:function(){return{pageNav:{total:0,pageNo:1,pageSize:10},userId:this.$store.getters.id,picsManagementMapApi:{upload:i.o,query:i.i},imagesList:[],postUrl:s.b+"/user/images/upload"}},mounted:function(){this.visible=this.dialogVisible,this.refreshImageList()},methods:{handleSizeChange:function(t){this.pageNav.pageSize=t,this.refreshImageList()},handleCurrentChange:function(t){this.pageNav.pageNo=t,this.refreshImageList()},togglePicsCenter:function(){this.$root.eventHub.$emit("togglePicsCenterEvent")},select:function(t){this.$root.eventHub.$emit("selectPicsCenterEvent",t)},refreshImageList:function(){var t=this;this.picsManagementMapApi.query({page:this.pageNav.pageNo,pageSize:this.pageNav.pageSize}).then(function(e){if(200===e.status){var a=[];e.data.data.forEach(function(e){a.push({id:e.id,url:"https://images.maiyidesan.cn/users/"+t.userId+"/"+e.path,fileName:e.path})}),t.imagesList=a,t.pageNav.total=e.data.total}})},upload:function(t){var e=this,a=new FormData;a.append("images",t.file),this.picsManagementMapApi.upload(a).then(function(t){200===t.status&&(e.$message({type:"success",message:"图片上传成功！"}),e.refreshImageList())})}}},r=(a("ger1"),a("KHd+")),l=Object(r.a)(n,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"pics-manage-wrap"},[a("el-dialog",{attrs:{visible:t.dialogVisible,"show-close":!1,"append-to-body":!0,width:"940px","custom-class":"pics-manage-compontent-dialog",title:""}},[a("el-container",{staticClass:"left-side",staticStyle:{height:"auto"}},[a("el-aside",{staticStyle:{"background-color":"#212121",position:"relative"},attrs:{width:"120px"}},[a("div",{staticClass:"title-wrap"},[a("h2",[t._v("素材中心")])]),t._v(" "),a("div",{staticClass:"left-side-inner"},[a("ul",{staticClass:"left-menu-wrap"},[a("li",{staticClass:"selected"},[a("span",[t._v("图片库")])])])]),t._v(" "),a("div",{staticClass:"upload-btn-wrap"},[a("el-upload",{staticClass:"upload-btn-inner",attrs:{action:t.postUrl,"http-request":t.upload}},[a("el-button",{attrs:{size:"mini"}},[a("font-awesome-icon",{attrs:{icon:["fas","cloud-upload-alt"]}}),t._v("\n              本地上传\n            ")],1)],1)],1)]),t._v(" "),a("el-container",{staticClass:"right-main"},[a("el-header",{staticClass:"category-hd-wrap",staticStyle:{height:"40px"}},[a("ul",{staticClass:"category"},[a("li",{staticClass:"item active"},[t._v("上传")])]),t._v(" "),a("div",{staticClass:"close pull-right",on:{click:function(e){t.togglePicsCenter()}}},[a("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1)]),t._v(" "),a("el-main",{staticClass:"category-bd-wrap",staticStyle:{position:"relative"}},[a("ul",{staticClass:"images-list"},t._l(t.imagesList,function(e){return a("li",{key:e.id,staticClass:"image-item",on:{click:function(a){t.select(e)}}},[a("div",{staticClass:"cover",style:{"background-image":"url('"+e.url+"')"}},[a("div",{staticClass:"mask"}),t._v(" "),a("span",{staticClass:"icon preview",attrs:{"data-hint":"预览"}},[a("img",{directives:[{name:"preview",rawName:"v-preview",value:e.url,expression:"item.url"}],key:e.id,staticClass:"placeholder-img",attrs:{src:e.url,alt:e.url,"preview-title-enable":"true","preview-nav-enable":"true"}}),t._v(" "),a("font-awesome-icon",{attrs:{icon:["fas","eye"]}})],1)])])})),t._v(" "),a("div",{staticClass:"pageNavWrap"},[a("el-pagination",{attrs:{"current-page":t.pageNav.pageNo,"page-sizes":[10,20,50,100],"page-size":t.pageNav.pageSize,total:t.pageNav.total,layout:"total, sizes, prev, pager, next, jumper",background:""},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)])],1)],1)],1)],1)},[],!1,null,null,null);l.options.__file="index.vue";e.a=l.exports},B7sB:function(t,e,a){},HGfo:function(t,e,a){"use strict";var i=a("oU4k"),s=a("LvDl"),n=a.n(s),r={name:"GoodsTableCustomTd",props:{type:{type:String,default:"text"},linkColor:{type:String,default:"normal"},data:{type:Object,default:null},currentId:{type:String,default:""},isRowMenuWrapCell:{type:Boolean,default:!1},prop:{type:String,default:""},name:{type:String,default:""},tableUserName:{type:String,default:"GoodsManageIndex"}},data:function(){return{goodOperMapApi:{fakeDel:i.m},formModel:{},copyData:n.a.clone(this.data),preList:{reviewStatusList:[{value:"-1",label:"请选择审核状态"},{value:"0",label:"未审核"},{value:"1",label:"审核未通过"},{value:"2",label:"已审核"},{value:"3",label:"无需审核"}]}}},methods:{resetData:function(){},fakeDel:function(t){var e=this;this.$confirm("您确定把该商品放入回收站吗？","",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(function(){e.goodOperMapApi.fakeDel([t.id]).then(function(t){console.log(t),200===t.status&&(e.$message({type:"success",message:"删除成功，已移入回收站"}),e.$root.eventHub.$emit("refreshGoodsListEvent"))})}).catch(function(){e.$message({type:"info",message:"已取消删除"})})}}},l=(a("nFWg"),a("KHd+")),o=Object(l.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",["image"===t.type?a("span",{staticClass:"thumb-img-wrap"},[a("el-popover",{attrs:{placement:"right","popper-class":"editablePopper",trigger:"click"}},[a("img",{staticStyle:{width:"180px",height:"180px","z-index":"11"},attrs:{src:t.data[t.prop]}}),t._v(" "),a("span",{staticClass:"editable-click cursor_pointer",attrs:{slot:"reference"},slot:"reference"},[a("img",{attrs:{src:t.data[t.prop]}})])])],1):"input"===t.type?a("span",[a("el-popover",{attrs:{placement:"top","popper-class":"editablePopper",trigger:"click"},on:{hide:t.resetData}},[a("div",{staticClass:"editable-container"},[a("h3",{staticClass:"popover-title"},[t._v("请输入"+t._s(t.name))]),t._v(" "),a("div",{staticClass:"popover-content"},[a("el-form",{staticClass:"editable-form-inline",attrs:{inline:!0,model:t.data}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{size:"mini",clearable:""},model:{value:t.data[t.prop],callback:function(e){t.$set(t.data,t.prop,e)},expression:"data[prop]"}})],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("确定")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default",size:"mini"}},[t._v("取消")])],1)],1)],1)]),t._v(" "),a("span",{staticClass:"editable-click cursor_pointer",staticStyle:{display:"inline-block","max-width":"15em",height:"2em","text-overflow":"ellipsis",overflow:"hidden","white-space":"nowrap"},attrs:{slot:"reference",title:t.data[t.prop]},slot:"reference"},[t._v(t._s(t.data[t.prop]))])]),t._v(" "),a("br"),t._v(" "),t.isRowMenuWrapCell&&t.data.id===t.currentId?a("span",["GoodsManageIndex"===t.tableUserName?a("ul",{staticClass:"goodsOpMenu"},[a("li",[a("router-link",{attrs:{to:{name:"prodEditIndex",params:t.data,query:{tabIndex:0,prodId:t.data.id}}}},[t._v("编辑")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:{name:"prodEditIndex",params:t.data,query:{tabIndex:2,prodId:t.data.id}}}},[t._v("商品属性")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:{name:"prodEditIndex",params:t.data,query:{tabIndex:3,prodId:t.data.id}}}},[t._v("商品相册")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:{name:"prodEditIndex",params:t.data,query:{tabIndex:4,prodId:t.data.id}}}},[t._v("关联商品")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:{name:"prodEditIndex",params:t.data,query:{tabIndex:5,prodId:t.data.id}}}},[t._v("关联文章")])],1),t._v(" "),t._m(0),t._v(" "),t._m(1),t._v(" "),a("li",[a("a",{staticClass:"py-text-danger",attrs:{href:"jvascript:void(0)"},on:{click:function(e){t.fakeDel(t.data)}}},[t._v("删除")])])]):t._e(),t._v(" "),"GoodsRepoList"===t.tableUserName?a("ul",{staticClass:"goodsOpMenu"},[a("li",[a("router-link",{attrs:{to:{name:"prodEditIndex",params:t.data,query:{tabIndex:0,prodId:t.data.id}}}},[t._v("编辑")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:{name:"prodEditIndex",params:t.data,query:{tabIndex:2,prodId:t.data.id}}}},[t._v("商品属性")])],1),t._v(" "),a("li",[a("router-link",{attrs:{to:{name:"prodEditIndex",params:t.data,query:{tabIndex:3,prodId:t.data.id}}}},[t._v("商品相册")])],1),t._v(" "),t._m(2),t._v(" "),a("li",[a("a",{staticClass:"py-text-danger",attrs:{href:"jvascript:void(0)"},on:{click:function(e){t.fakeDel(t.data)}}},[t._v("删除")])])]):t._e()]):t._e()],1):"switch"===t.type?a("span",[a("el-form",{attrs:{inline:!0,model:t.data}},[a("el-switch",{model:{value:t.data[t.prop],callback:function(e){t.$set(t.data,t.prop,e)},expression:"data[prop]"}})],1)],1):"text"===t.type?a("span",[a("span",{class:{"py-text-danger":"danger"===t.linkColor}},[t._v(t._s(t.data[t.prop]))])]):"select"===t.type?a("span",[a("el-popover",{attrs:{placement:"top","popper-class":"editablePopper",trigger:"click"},on:{hide:t.resetData}},[a("div",{staticClass:"editable-container"},[a("h3",{staticClass:"popover-title"},[t._v("请输入"+t._s(t.name))]),t._v(" "),a("div",{staticClass:"popover-content"},[a("el-form",{staticClass:"editable-form-inline",attrs:{inline:!0,model:t.data}},[a("el-form-item",{attrs:{label:""}},[a("el-select",{attrs:{size:"mini",placeholder:"请选择审核状态","value-key":"value"},model:{value:t.data.reviewStatus,callback:function(e){t.$set(t.data,"reviewStatus",e)},expression:"data.reviewStatus"}},t._l(t.preList.reviewStatusList,function(t){return a("el-option",{key:t.value,attrs:{label:t.label,value:t}})}))],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("确定")])],1),t._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"default",size:"mini"}},[t._v("取消")])],1)],1)],1)]),t._v(" "),a("span",{staticClass:"editable-click cursor_pointer",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(t.data[t.prop]))])])],1):t._e()])},[function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"jvascript:void(0)"}},[this._v("预览")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"jvascript:void(0)"}},[this._v("导入商品库")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[e("a",{attrs:{href:"jvascript:void(0)"}},[this._v("预览")])])}],!1,null,"87f85386",null);o.options.__file="goodsTableCustomTd.vue";e.a=o.exports},P3ZW:function(t,e,a){},Sl2t:function(t,e,a){},ger1:function(t,e,a){"use strict";var i=a("B7sB");a.n(i).a},jNkO:function(t,e,a){"use strict";var i=a("oU4k"),s=a("LvDl"),n=a.n(s),r={name:"CateCasecader",props:{size:{type:String,default:"medium"},placeholder:{type:String,default:"请选择"},cateId:{type:Array,default:function(){return[]}}},data:function(){return{firstClass:[],clearable:!1,props:{value:"id",children:"children",label:"name"},cateCasecaderMapApi:{firstClass:i.l,secondClass:i.k}}},computed:{currentValue:{get:function(){return this.cateId},set:function(t){this.cateId=t}}},mounted:function(){var t=this;this.clearable=this.$attrs.clearable,setTimeout(function(){t.init()},0)},methods:{init:function(){var t=this;n.a.isArray(this.cateId)&&this.cateCasecaderMapApi.firstClass({classScheme:"cat1"}).then(function(e){if(200===e.status){var a=[],i=[];e.data.forEach(function(e){e.id===t.cateId[0]&&t.cateId[1]&&t.cateCasecaderMapApi.secondClass({topClass:[t.cateId[0]]}).then(function(t){200===t.status&&t.data.forEach(function(t){i.push({id:t.id,name:t.name,children:null})})}),a.push({id:e.id,name:e.name,children:i})}),t.firstClass=a}}),this.currentValue=this.cateId},handleValueChange:function(){this.$emit("value-change",this.currentValue)},handleItemChange:function(t){var e=this;this.cateCasecaderMapApi.secondClass({topClass:t}).then(function(a){200===a.status&&(e.firstClass[n.a.findIndex(e.firstClass,function(e){return e.id===t[0]})].children=n.a.map(a.data,function(t){return{id:t.id,name:t.name,children:null}}))})}}},l=(a("4AVS"),a("KHd+")),o=Object(l.a)(r,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{},[a("el-cascader",{attrs:{clearable:t.clearable,options:t.firstClass,props:t.props,size:t.size,placeholder:t.placeholder},on:{change:t.handleValueChange,"active-item-change":t.handleItemChange},model:{value:t.currentValue,callback:function(e){t.currentValue=e},expression:"currentValue"}})],1)},[],!1,null,null,null);o.options.__file="index.vue";e.a=o.exports},nFWg:function(t,e,a){"use strict";var i=a("P3ZW");a.n(i).a}}]);